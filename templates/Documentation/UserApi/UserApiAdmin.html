{% extends "base.html" %}


{% block content %}
<div class="title">
    <h1 class="title-text">Документация по UserApi</h1>
</div>
<div>
    <p class="diary-text">
        Это документация к суперфункциям админа, как админ вы можете получать информацию о любом User
        (Правда если его статус не больше вашего), для этого надо написать следующий код:<br><br>
    </p>
    <div class="publication-block-header-grey">
    <code>
    <pre class="diary-text">
from requests import post, get

link_website = 'https://rjkzavrs-studio.herokuapp.com/'

# Для работы требуется email и password User со статусом 1 и выше (админа)
print(get(f'{link_website}api/user/test@yandex.ru/test_123/10').json())

# При выполнении должен вернуть {'user': {'age': 16, 'background_image_id': 0, 'comments': [], 'created_date':
        '2020-04-17 23:57', 'email': 'test_account@yandex.ru', 'id': 10, 'name': 'Николай', 'nickname': 'nikniksham',
        'publications': [], 'status': 0, 'surname': 'Шамков'}}</pre>
    </code>
    </div>
    <p class="diary-text">
        Вы получили информацию о User другого пользователя.
        Следующим по счёту идёт функция изменения информации о User.
        Для этого мы используем метод put.
        Напишем следующий код:<br><br>
    </p>
    <div class="publication-block-header-grey">
    <code>
    <pre class="diary-text">
from requests import post, get, put

link_website = 'https://rjkzavrs-studio.herokuapp.com/'

# Для работы требуется email и password User со статусом 1 и выше (админа)
print(put(f'{link_website}api/user/test@yandex.ru/test_123/10', json={'age': 20}).json())

# При выполнении должен вернуть {'success': 'User test_account@yandex.ru changed'}
    </pre>
    </code>
    </div>
    <div class="publication-block-header-red">
        <p class="diary-text">
            Важно! Пароль поменять при помощи API невозможно! Для смены
            пароля нужно ---> Профиль ---> Редактировать ---> Сменить пароль
        </p>
    </div>
    <p class="diary-text">
        Мы поменяли чужого User, это необходимо, если пользователь указал ник/имя или фамилию,
        в названиях которых есть что-то, что нарушает правила сервера. А так же мы можем удалить
        User. Это необходимо, если аккаунт мёртв, или он забанен за нарушение правил.<br><br>
    </p>
    <div class="publication-block-header-grey">
    <code>
    <pre class="diary-text">
from requests import post, get, put, delete

link_website = 'https://rjkzavrs-studio.herokuapp.com/'

# Для работы требуется email и password User со статусом 1 и выше (админа)
print(delete(f'{link_website}api/user/test@yandex.ru/test_123/10').json())

# При выполнении должен вернуть {'success': 'User test_account@yandex.ru deleted'}
    </pre>
    </code>
    </div>
    <p class="diary-text">
        Вы изучили базовое API для User. Советую ознакомиться и с другими материалами
        по UserApi и другим.
    </p>
</div>
{% endblock %}
{% block navigation %}
{% include content_navigation %}
{% endblock %}