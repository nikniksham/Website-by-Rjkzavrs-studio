{% extends "base.html" %}


{% block content %}
<div class="title">
    <h1 class="title-text">Документация по UserApi</h1>
</div>
<div>
    <p class="diary-text">
        UserApi работает несложно, начнём разбирать его базовые функции.
        Итак, приступим:<br><br>
        Начнём с основ, а именно создание User(а).
        Для этого нам понадобиться метод POST из модуля requests<br><br>
    </p>
    <div class="publication-block-header-grey">
    <code>
    <pre class="diary-text">
from requests import post

link_website = 'https://rjkzavrs-studio.herokuapp.com/'

print(post(f'{link_website}api/user',
           json={'id': 10,
           'name': 'Николай',
           'surname': 'Шамков',
           'age': 16,
           'nickname': 'nikniksham',
           'email': 'test_account@yandex.ru',
           'password': 'test_123'}).json())

# При выполнении должен вернуть {'success': 'User test_account@yandex.ru create'}</pre>
    </code>
    </div>
    <p class="diary-text">
        Поздравляю, вы создали своего User(а), но если вы не
        доверяете ответу, то вы можете это проверить и другим способом.
        На помощь приходит метод get, теперь, что бы проверить, надо
        написать следующий код:<br><br>
    </p>
    <div class="publication-block-header-grey">
    <code>
    <pre class="diary-text">
from requests import post, get

link_website = 'https://rjkzavrs-studio.herokuapp.com/'

# Для работы требуется email и password User(а)
print(get(f'{link_website}api/user/test_account@yandex.ru/test_123').json())

# При выполнении должен вернуть {'user': {'age': 16, 'background_image_id': 0, 'comments': [], 'created_date':
        '2020-04-17 23:57', 'email': 'test_account@yandex.ru', 'id': 10, 'name': 'Николай', 'nickname': 'nikniksham',
        'publications': [], 'status': 0, 'surname': 'Шамков'}}</pre>
    </code>
    </div>
    <p class="diary-text">
        Ещё 1 поздравление, вы получили информацию об сообственном User(е).
        Следующим по счёту идёт функция изменения информации о User(е).
        Для этого мы используем метод put.
        Напишем следующий код:<br>
    </p>
    <div class="publication-block-header-grey">
    <code>
    <pre class="diary-text">
from requests import post, get, put

link_website = 'https://rjkzavrs-studio.herokuapp.com/'

# Для работы требуется email и password User(а)
print(put(f'{link_website}api/user/test_account@yandex.ru/test_123', json={'age': 20}).json())

# При выполнении должен вернуть {'success': 'User test_account@yandex.ru changed'}
    </pre>
    </code>
    </div>
    <div class="publication-block-header-red">
        <p class="diary-text">
            Важно! Пароль поменять при помощи API невозможно! Для смены
            пароля нужно ---> Профиль ---> Редактировать ---> Сменить пароль
        </p>
    </div>
    <p class="diary-text">
        Успех, но для полноты картины нам не хватает 1 важной возможности - удаление
        User(а), к счастью, такая возможность предусмотрена. Для того что бы удалить User(а)
        вам необходим метод delete и следующий код:
    </p>
    <div class="publication-block-header-grey">
    <code>
    <pre class="diary-text">
from requests import post, get, put, delete

link_website = 'https://rjkzavrs-studio.herokuapp.com/'

# Для работы требуется email и password User(а)
print(delete(f'{link_website}api/user/test_account@yandex.ru/test_123').json())

# При выполнении должен вернуть {'success': 'User test_account@yandex.ru deleted'}
    </pre>
    </code>
    </div>
    <p class="diary-text">
        Вы изучили базовое API для User. Советую ознакомиться и с другими материалами
        по UserApi и другим.
    </p>
</div>
{% endblock %}
{% block navigation %}
{% include content_navigation %}
{% endblock %}