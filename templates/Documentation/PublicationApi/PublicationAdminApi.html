{% extends "base.html" %}


{% block content %}
<div class="title">
    <h1 class="title-text">Документация по PublicationApi</h1>
</div>
<div>
    <p class="diary-text">
        PublicationApi работает несложно, начнём разбирать функции для Админов.
        Первое, что мы сделаем - получим информацию о публикации:<br><br>
    </p>
    <div class="publication-block-header-grey">
    <code>
    <pre class="diary-text">
from requests import post, get

link_website = 'https://rjkzavrs-studio.herokuapp.com/'

# Для работы требуется email и password User со статусом 1 и выше (Админ)
print(get(f'{link_website}api/publication/test@yandex.ru/test_123/11').json())


# При выполнении должен вернуть {'publication': {'bad_marks': 0, 'body':
        'Тестовая запись с тестовой информацией.Тестовая информация для тестовой записи',
        'comments': [], 'created_date': '2020-04-19 16:12', 'good_marks': 0, 'header':
        'Тестовая запись', 'id': 11}}
    </pre>
    </code>
    </div>
    <p class="diary-text">
        Так же вы можете получить список публикаций:<br><br>
    </p>
    <div class="publication-block-header-grey">
    <code>
    <pre class="diary-text">
from requests import post, get

link_website = 'https://rjkzavrs-studio.herokuapp.com/'

# Для работы требуется email и password User со статусом 1 и выше (Админ)
print(get(f'{link_website}api/publication_admin_list/test@yandex.ru/test_123').json())


# При выполнении должен вернуть список публикаций
    </pre>
    </code>
    </div>
    <p class="diary-text">
        Теперь изменим информацию публикации:<br><br>
    </p>
    <div class="publication-block-header-grey">
    <code>
    <pre class="diary-text">
from requests import post, get, put

link_website = 'https://rjkzavrs-studio.herokuapp.com/'

# Для работы требуется email и password User со статусом 1 и выше (Админ)
print(put(f'{link_website}api/publication/test@yandex.ru/test_123/11',
                  json={'header': 'Тестовая смена загаловка'}).json())

# При выполнении должен вернуть {'success': 'Publication Тестовая смена загаловка changed'}
    </pre>
    </code>
    </div>
    <p class="diary-text">
        Ну, и удалим:<br><br>
    </p>
    <div class="publication-block-header-grey">
    <code>
    <pre class="diary-text">
from requests import post, get, put, delete

link_website = 'https://rjkzavrs-studio.herokuapp.com/'

# Для работы требуется email и password User со статусом 1 и выше (Админ)
print(delete(f'{link_website}api/publication/test@yandex.ru/test_123/11').json())


# При выполнении должен вернуть {'success': 'Publication Тестовая смена загаловка deleted'}
    </pre>
    </code>
    </div>
</div>
{% endblock %}
{% block navigation %}
{% include content_navigation %}
{% endblock %}